<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ ìœ ë¦¬ì°½ ê²Œì‹œíŒ - ì‚¬ì§„ ì—…ë¡œë“œ ê°€ëŠ¥</title>
    <style>
        :root {
            --indigo: #3f51b5;
        }

        body {
            margin: 0;
            padding: 20px;
            background-color: #1a1a24;
            font-family: 'Pretendard', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* ğŸŒ† ë°°ê²½ ì‚¬ì§„ (ë°˜íˆ¬ëª…) */
        .building-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0.3;
            z-index: -2;
            filter: grayscale(20%);
            transition: background-image 0.5s ease;
        }

        /* ì»¨íŠ¸ë¡¤ ë©”ë‰´ (ë°°ê²½ ë³€ê²½ ë“±) */
        .admin-menu {
            z-index: 100;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            padding: 15px 25px;
            border-radius: 50px;
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
        }

        .admin-menu label {
            cursor: pointer;
            background: var(--indigo);
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            transition: 0.3s;
        }

        /* ğŸªŸ ê²Œì‹œíŒ ê·¸ë¦¬ë“œ */
        .facade-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            max-width: 1200px;
            width: 100%;
            z-index: 1;
        }

        .glass-board {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(63, 81, 181, 0.4);
            border-radius: 4px;
            height: 300px;
            overflow: hidden;
            transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .glass-board.expanded {
            height: 650px;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(0px);
            grid-row: span 2;
            z-index: 10;
        }

        /* ğŸ“¸ ì‚¬ì§„ ì˜ì—­ */
        .photo-space {
            width: 100%;
            height: 180px;
            background: rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }

        .photo-space img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-space .upload-hint {
            color: rgba(255,255,255,0.7);
            font-size: 0.8em;
            position: absolute;
        }

        /* ğŸ“œ í…ìŠ¤íŠ¸ ì˜ì—­ */
        .text-space {
            padding: 20px;
            flex-grow: 1;
            overflow-y: hidden;
        }

        .glass-board.expanded .text-space {
            overflow-y: auto;
        }

        .text-space h3 {
            margin: 0 0 10px 0;
            color: var(--indigo);
        }

        .text-space p {
            font-size: 0.95em;
            line-height: 1.7;
            color: #333;
            white-space: pre-wrap;
        }

        /* ë²„íŠ¼ë“¤ */
        .action-buttons {
            padding: 15px;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            opacity: 0;
        }

        .glass-board.expanded .action-buttons { opacity: 1; }

        button {
            cursor: pointer;
            border: 1px solid var(--indigo);
            background: transparent;
            color: var(--indigo);
            padding: 5px 15px;
            border-radius: 4px;
        }

        input[type="file"] { display: none; }

        @media (max-width: 900px) {
            .facade-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>

<div class="building-bg" id="bgLayer"></div>

<div class="admin-menu">
    <span>ë°°ê²½ ê±´ë¬¼ ì‚¬ì§„: </span>
    <label for="bgUpload">íŒŒì¼ ì„ íƒ</label>
    <input type="file" id="bgUpload" accept="image/*">
</div>

<div class="facade-grid" id="mainGrid"></div>

<script>
    const grid = document.getElementById('mainGrid');
    const bgLayer = document.getElementById('bgLayer');
    const bgUpload = document.getElementById('bgUpload');

    // 1. ë°°ê²½ ì‚¬ì§„ ë³€ê²½ ê¸°ëŠ¥
    bgUpload.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
            const url = URL.createObjectURL(file);
            bgLayer.style.backgroundImage = `url(${url})`;
        }
    });

    // 2. 12ê°œ ê²Œì‹œíŒ ìƒì„±
    for (let i = 1; i <= 12; i++) {
        const board = document.createElement('div');
        board.className = 'glass-board';
        board.innerHTML = `
            <input type="file" id="file-${i}" class="board-file-input" accept="image/*">
            <div class="photo-space" onclick="triggerFileInput(${i}, event)">
                <span class="upload-hint">í´ë¦­í•˜ì—¬ ì‚¬ì§„ ì—…ë¡œë“œ</span>
                <img src="" id="img-${i}" style="display:none;">
            </div>
            <div class="text-space" onclick="toggleExpand(this.parentElement, event)">
                <h3 contenteditable="true">ì œëª© ${i}</h3>
                <p contenteditable="true">ì—¬ê¸°ì— ì‹œë‚˜ ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”. í´ë¦­í•˜ë©´ ê¸¸ê²Œ í¼ì³ì§‘ë‹ˆë‹¤. (ì´ í…ìŠ¤íŠ¸ëŠ” ë°”ë¡œ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤)</p>
            </div>
            <div class="action-buttons">
                <button onclick="alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.')">ì €ì¥</button>
                <button style="color:red; border-color:red;" onclick="this.parentElement.parentElement.remove()">ì‚­ì œ</button>
            </div>
        `;
        
        grid.appendChild(board);

        // ì‚¬ì§„ íŒŒì¼ ì„ íƒ ì‹œ ë¯¸ë¦¬ë³´ê¸° ì ìš©
        const fileInput = board.querySelector('.board-file-input');
        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                const img = document.getElementById(`img-${i}`);
                img.src = url;
                img.style.display = 'block';
                board.querySelector('.upload-hint').style.display = 'none';
            }
        });
    }

    // ì‚¬ì§„ ì˜ì—­ í´ë¦­ ì‹œ íŒŒì¼ ì…ë ¥ì°½ ë„ìš°ê¸°
    function triggerFileInput(id, event) {
        event.stopPropagation();
        document.getElementById(`file-${id}`).click();
    }

    // ê²Œì‹œíŒ í™•ì¥/ì¶•ì†Œ í† ê¸€
    function toggleExpand(el, event) {
        // ì´ë¯¸ í™•ì¥ëœ ë‹¤ë¥¸ ê²Œì‹œíŒ ë‹«ê¸°
        document.querySelectorAll('.glass-board').forEach(b => {
            if (b !== el) b.classList.remove('expanded');
        });
        el.classList.toggle('expanded');
    }
</script>

</body>
</html>
